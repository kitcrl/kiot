#include <stdio.h>
#include <stdlib.h>
#include <stdint.h>
#include <inode.h>
#include <njson.h>
#include <nutil.h>
#include <icode.x.h>

#if defined XWIN32
#include <Windows.h>
#endif

///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
//////                                                                   //////
//////                                                                   //////
//////                          User Function                            //////
//////                                                                   //////
//////                                                                   //////
///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
/*****************************************************************************/
/*****************************************************************************/
/*********************************        ************************************/
/*********************************        ************************************/
/*********************************        ************************************/
/*****************************                ********************************/
/*******************************            **********************************/
/*********************************        ************************************/
/************************************   **************************************/
/************************************* ***************************************/
/*****************************************************************************/
#include <nm.h>
#include <nwsc.h>

///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
//////                                                                   //////
//////                                                                   //////
//////                           Entry Point                             //////
//////                                                                   //////
//////                                                                   //////
///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
/*****************************************************************************/
/*****************************************************************************/
/*********************************        ************************************/
/*********************************        ************************************/
/*********************************        ************************************/
/*****************************                ********************************/
/*******************************            **********************************/
/*********************************        ************************************/
/************************************   **************************************/
/************************************* ***************************************/
/*****************************************************************************/

void* setup(void* arg)
{
  iNode* inode = (iNode*)arg;
  nwsc(inode);
  return 0;
}


void* loop(void* arg)
{
  iNode* inode = (iNode*)arg;

  while (1)
  {
    delay(1);
  }

  return 0;
}



void* main(int32_t argc, int8_t** argv)
{
  static iNode inode;
  memset(&inode, 0, sizeof(iNode));

  inode.argc = argc;
  inode.argv = argv;
  __nmain(argc, argv, setup, loop, &inode);

  return 0;
}
